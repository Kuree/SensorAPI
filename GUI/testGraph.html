<!doctype>
<link type="text/css" rel="stylesheet" href="Content/rickshaw.min.css">
<script src="Scripts/d3.min.js"></script>
<script src="Scripts/rickshaw.min.js"></script>
<script src="Scripts/jquery-1.9.0.min.js"></script>

<body>
    <div id="chart"></div>
</body>



<script>
    function test() {
        queryData =
            {
                "start": 0,
                "end": 1403107250,
                "queries": [{
                    "aggregator": "avg",

                    "metric": "Bucknell.athletic_center",
                    "rate": true,
                    "tags": {
                        "sensorID": "demand_tn",
                        "sensorType": "Demand"
                    },
                    "downsample": "30m-avg"
                }]
            }
        try {
            $.ajax({
                url: "http://localhost:8888/rickshaw",
                dataType: "json",
                error: showError,
                success: createGraph,
                crossDomain: true,
                data: JSON.stringify(queryData),
                type: 'POST'
                //contentType: "application/json; charset=utf-8"
            });
        }
        catch (err) {
            console.log(err.stack);
        }
    }
    function showError(error) {
        console.log(error.responseText);
    };
    function createGraph(data, status, jqXHRob) {
        console.log("creating graph...")
        
        console.log(data)
        /* Scheme:
        #e41a1c
        #377eb8
        #4daf4a
        #984ea3
        #ff7f00
        #ffff33
        #a65628
        */
        var graph = new Rickshaw.Graph({
            renderer: 'line',
            element: document.querySelector("#chart"),
            width: 580,
            height: 250,
            unstack: true,
            series: [
            {
                color: '#e41a1c',
                data: s1
            },
            {
                color: '#377eb8',
                data: s2
            }]
        });
        var axes = new Rickshaw.Graph.Axis.Time({ graph: graph });
        
        graph.render()
        
    }
    test()
</script>